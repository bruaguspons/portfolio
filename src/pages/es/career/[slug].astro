---
import CarrerContent from "@/components/career/CarrerContent.astro";
// import { getI18N } from "@/i18n";
import Layout from "@/layouts/Layout.astro";

const { slug } = Astro.params;

// const { currentLocale } = Astro;
// const i18n = getI18N({ currentLocale });

export async function getStaticPaths() {
    return [
        {
            params: {
                slug: "university-projects",
            },
        },
        {
            params: {
                slug: "montevideo-comm",
            },
        },
    ];

    // return i18n.CAREER.ITEMS.map((item) => ({
    //     params: {
    //         slug: item.SLUG,
    //     },
    // }));
}

const url = Astro.request.url;
const baseUrl = url.replace(/(es|en)(.*)$/, "");
---

<Layout title="Portfolio - Bruno Pons">
    {
        slug === "university-projects" && (
            <link
                rel="preload"
                as="image"
                href={baseUrl + "/fing.webp"}
                slot="metaData"
            />
        )
    }
    {
        slug === "montevideo-comm" && (
            <link
                rel="preload"
                as="image"
                href={baseUrl + "/montevideo-comm.webp"}
                slot="metaData"
            />
        )
    }
    <CarrerContent slug={slug} />
</Layout>
