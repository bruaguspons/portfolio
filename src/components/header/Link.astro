---
interface Props {
    href: string;
    className?: string;
}

const { href, className } = Astro.props;

const { url } = Astro.request;

const isCurrentLink = url.includes(href);

const defaultColor = isCurrentLink
    ? "text-transparent"
    : "text-black dark:text-white";
const hoverBg = isCurrentLink ? "" : "hover:bg-background-500 cursor-pointer ";
---

{
    isCurrentLink ? (
        <div
            class={`w-full h-full flex justify-center items-center ${hoverBg} group `}
        >
            <span
                class={`font-extrabold ${defaultColor} bg-clip-text bg-gradient-to-r  from-purple-500 to-red-400 dark:to-blue-500 hover:from-purple-500 hover:to-red-400 dark:hover:to-blue-500 hover:text-transparent dark:hover:text-transparent transition duration-150

                w-full h-full flex justify-center items-center
                
                group-hover:from-purple-500 group-hover:to-red-400 dark:group-hover:to-blue-500 group-hover:text-transparent dark:group-hover:text-transparent
                `}
            >
                <slot />
            </span>
        </div>
    ) : (
        <div class={`w-full h-full ${hoverBg}`}>
            <a
                href={href}
                class={`font-extrabold ${defaultColor} bg-clip-text bg-gradient-to-r  from-purple-500 to-red-400 dark:to-blue-500 hover:from-purple-500 hover:to-red-400 dark:hover:to-blue-500 hover:text-transparent dark:hover:text-transparent transition duration-150 ${className}
                
                w-full h-full flex justify-center items-center

                group-hover:from-purple-500 group-hover:to-red-400 dark:group-hover:to-blue-500 group-hover:text-transparent dark:group-hover:text-transparent
                `}
            >
                <slot />
            </a>
        </div>
    )
}
